@isTest
public class DFSICaseTest {
	
	@isTest
	static void testJSONParsing() {
		//String jsonString = '[     {         "attributes": {             "type": "Case",             "url": "/services/data/v40.0/sobjects/Case/5000l0000019dmoAAA"         },         "Id": "5000l0000019dmoAAA",          "ContactId": "6000l0000020dmoAQA",         "CreatedDate": "2017-10-11T02:11:05.000+0000",         "CaseNumber": "00003076",         "Description": "My Shopping Trolley",         "Expectation__c": "Nothing to expect",         "Status": "Assigned",         "Priority": "Medium",         "Origin": "Phone",         "RecordTypeId": "01228000000yY4CAAU",         "Sent_VIA_Rest__c": false,          "SuppliedEmail": "john.Citizen@gmail.com",          "SuppliedName": "John Citizen",         "Type": "Complaint",         "What__c": "I dont like it",         "SLA__c": "2",         "Page__c": "https://www.records.nsw.gov.au",         "Location__c": "Bathurst",         "Agency_Name__c": "Test Agency",         "CombinedAttachments": {             "totalSize": 1,             "done": true, "records": [                 {                     "attributes": {                         "type": "CombinedAttachment",                         "url": "/services/data/v40.0/sobjects/CombinedAttachment/0690l0000000YQyAAM"                     },                     "ParentId": "5000l0000019dmoAAA",                     "Id": "0690l0000000YQyAAM",                     "Title": "test",                     "RecordType": "Attachment"                 }             ]         }     },     {         "attributes": {             "type": "Case",             "url": "/services/data/v40.0/sobjects/Case/5000l0000019emWAAQ"         },         "Id": "5000l0000019emWAAQ",         "ContactId": "0030l000004DIYWAA4",         "CreatedDate": "2017-10-11T03:25:17.000+0000",         "CaseNumber": "00003077",         "Description": "This is a test.", "Expectation__c": "This is a test.",         "Status": "New",         "Subject": "New Case Test",         "Priority": "Medium",         "Origin": "Email",         "RecordTypeId": "01228000000yb4iAAA",         "Sent_VIA_Rest__c": false,         "SuppliedEmail": "Dave Smith@yahoo.com.au",         "SuppliedName": "Dave Smith",         "What__c": "New Case Test",         "CombinedAttachments": {             "totalSize": 6,             "done": true,             "records": [                 {                     "attributes": {                         "type": "CombinedAttachment",                         "url": "/services/data/v40.0/sobjects/CombinedAttachment/00P0l000000PeTaEAK"                     },                     "ParentId": "5000l0000019emWAAQ",                     "Id": "00P0l000000PeTaEAK", "Title": "1. Application Detail Applet.png",                     "RecordType": "Attachment"                 },                 {                     "attributes": {                         "type": "CombinedAttachment",                         "url": "/services/data/v40.0/sobjects/CombinedAttachment/00P0l000000PeTeEAK"                     },                     "ParentId": "5000l0000019emWAAQ",                     "Id": "00P0l000000PeTeEAK",                     "Title": "6. Licence Transactions Detail.png",                     "RecordType": "Attachment"                 },                 {                     "attributes": {                         "type": "CombinedAttachment",                         "url": "/services/data/v40.0/sobjects/CombinedAttachment/00P0l000000PeTdEAK"                     },                     "ParentId": "5000l0000019emWAAQ",                     "Id": "00P0l000000PeTdEAK",                     "Title": "5. Licence Detail.png",                     "RecordType": "Attachment"                 },                 {                     "attributes": {                         "type": "CombinedAttachment",                         "url": "/services/data/v40.0/sobjects/CombinedAttachment/00P0l000000PeTbEAK"                     },                     "ParentId": "5000l0000019emWAAQ",                     "Id": "00P0l000000PeTbEAK",                     "Title": "2. Individual Detail.png",                     "RecordType": "Attachment"                 },                 {                     "attributes": {                         "type": "CombinedAttachment",                         "url": "/services/data/v40.0/sobjects/CombinedAttachment/00P0l000000PeTZEA0"                     },                     "ParentId": "5000l0000019emWAAQ",                     "Id": "00P0l000000PeTZEA0",                     "Title": "1. Application Detail Applet - RGS.png",                     "RecordType": "Attachment"                 }, {                     "attributes": {                         "type": "CombinedAttachment",                         "url": "/services/data/v40.0/sobjects/CombinedAttachment/00P0l000000PeTcEAK"                     },                     "ParentId": "5000l0000019emWAAQ",                     "Id": "00P0l000000PeTcEAK",                     "Title": "3. Organisation.png",                     "RecordType": "Attachment"                 }             ]         }     },     {         "attributes": {             "type": "Case",             "url": "/services/data/v40.0/sobjects/Case/5000l0000019i4bAAA"         },         "Id": "5000l0000019i4bAAA",         "CreatedDate": "2017-10-11T23:00:46.000+0000",         "CaseNumber": "00003078",         "Status": "Assigned",         "Priority": "Low",         "RecordTypeId": "01228000000yY4CAAU",         "Sent_VIA_Rest__c": false,         "Type": "Suggestion",         "What__c": "No Att",         "Agency_Name__c": "OneGov"     } ] ';
		String jsonString = '{  "timeStamp": "2017-12-12 16:49:36",  "cases": [    {      "attributes": {        "type": "Case",        "url": "/services/data/v40.0/sobjects/Case/2a0e237acbb8"      },      "Id": "2a0e237acbb8",      "ContactId": "0030l000004DIYWAA4",      "CreatedDate": "2017-12-13T05:56:46.382",      "CaseNumber": "1001",      "Description": "Test Desc",      "Expectation__c": "Test Expect",      "Status": "New",      "Subject": "Test Subject",      "Priority": "Medium",      "Origin": "Web",      "RecordTypeId": "01228000000yb4iAAA",      "Sent_VIA_Rest__c": false,      "SuppliedEmail": "test@test.com",      "SuppliedName": "Sav Jain",      "SuppliedPhone": "0477342861",      "What__c": "New Case Test",      "CombinedAttachments": {        "totalSize": 0,        "done": true,        "records": []      }    }  ]}';

		jsonString = jsonString.replaceAll('__c', '');

        DFSIGetCaseResponse result = (DFSIGetCaseResponse)JSON.deserialize(jsonString, DFSIGetCaseResponse.class);
        /*System.assertEquals(3, result.size());

        System.assertEquals(1, result.get(0).CombinedAttachments.totalSize);

        System.assertEquals(1, result.get(0).CombinedAttachments.records.size());

        System.assertEquals(6, result.get(1).CombinedAttachments.records.size());*/

	}
    
    @isTest
    static void testDFSIAttribute() {
        string attjson='{"type": "Case","url": "/services/data/v40.0/sobjects/Case/5000l0000019dmoAAA"}';
        DFSIAttribute d=(DFSIAttribute)JSON.deserialize(attjson,DFSIAttribute.class);
        system.debug('d is '+d);
    }
    
}